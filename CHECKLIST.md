# –ß–µ–∫-–ª–∏—Å—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ (Migration Checklist)

## üõ† 1. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Docker Compose)
- [ ] `backend` (Python 3.11+, aiohttp).
- [ ] `db` (PostgreSQL 15+ —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º `vector`).
- [ ] `ollama` (—Å –ø—É–ª–æ–º –º–æ–¥–µ–ª–µ–π: `llama3`, `nomic-embed-text`).
- [ ] `crawl4ai` (–≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å).

## üóÑ 2. Backend: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- [ ] `DatabaseManager`: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ SQLite –∏ Postgres.
- [ ] SQL –º–∏–≥—Ä–∞—Ü–∏–∏:
    - [ ] –¢–∞–±–ª–∏—Ü—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å–∫–∞—É—Ç–æ–≤, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–π.
    - [ ] –ò–Ω–¥–µ–∫—Å—ã (–≤–∫–ª—é—á–∞—è `ivfflat` –∏–ª–∏ `hnsw` –¥–ª—è –≤–µ–∫—Ç–æ—Ä–æ–≤).
- [ ] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –¥–∞–Ω–Ω—ã—Ö (CRUD –±–µ–∑ ORM).

## üîë 3. Backend: Auth & API
- [ ] JWT —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–≤—ã–¥–∞—á–∞ —Ç–æ–∫–µ–Ω–æ–≤, middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏).
- [ ] –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:
    - [ ] `POST /auth/login`
    - [ ] `GET /scouts`
    - [ ] `POST /scouts`
    - [ ] `GET /scouts/{id}/messages` (–∏—Å—Ç–æ—Ä–∏—è —á–∞—Ç–∞)
- [ ] SSE (Server-Sent Events) –¥–ª—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ –æ—Ç–≤–µ—Ç–æ–≤ —á–∞—Ç–∞ (`/api/chat`).

## ü§ñ 4. Backend: Agent & Services
- [ ] **Ollama Client**:
    - [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ (Chat).
    - [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ (Embeddings).
- [ ] **Scraper Client**:
    - [ ] HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É Crawl4AI.
- [ ] **Scheduler**:
    - [ ] –§–æ–Ω–æ–≤–∞—è –∑–∞–¥–∞—á–∞ (—Ä–∞–∑ –≤ –º–∏–Ω—É—Ç—É) –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∫–∞—É—Ç–æ–≤.

## ‚öõÔ∏è 5. Frontend Migration (Next.js)
- [ ] **–£–¥–∞–ª–µ–Ω–∏–µ Supabase**:
    - [ ] –£–¥–∞–ª–∏—Ç—å `@supabase/supabase-js`, `@supabase/ssr`.
    - [ ] –£–¥–∞–ª–∏—Ç—å `lib/supabase/`.
- [ ] **–ù–æ–≤—ã–π API –ö–ª–∏–µ–Ω—Ç**:
    - [ ] –°–æ–∑–¥–∞—Ç—å `lib/api.ts` (–æ–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ fetch —Å –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–æ–π JWT).
- [ ] **Auth Rewrite**:
    - [ ] –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å `contexts/AuthContext.tsx`.
    - [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è —Ç–æ–∫–µ–Ω–∞.
- [ ] **Data Fetching**:
    - [ ] –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ `supabase.from(...)` –Ω–∞ –≤—ã–∑–æ–≤—ã `api.get/post(...)`.
- [ ] **Realtime Replacement**:
    - [ ] –ó–∞–º–µ–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏ `supabase.channel` –Ω–∞ React Hook `useInterval` (–ø–æ–ª–ª–∏–Ω–≥) –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤.

## ‚úÖ 6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è -> –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫–∞—É—Ç–∞ -> –ß–∞—Ç —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π -> –ó–∞–ø—É—Å–∫ –∞–≥–µ–Ω—Ç–∞ -> –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
